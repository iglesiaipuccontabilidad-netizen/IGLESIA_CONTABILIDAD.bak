/**
 * Mobile Responsive Improvements
 * Optimizaciones para pantallas móviles pequeñas (< 768px, especialmente < 375px)
 * Fecha: Dic 2025
 */

/* ===========================
   BREAKPOINTS PERSONALIZADOS
   =========================== */

/* Extra Small Phones: 320px - 374px */
@media (max-width: 374px) {
  /* Base Typography */
  html {
    font-size: 14px;
  }

  body {
    font-size: 14px;
  }

  h1 {
    font-size: 1.4rem !important;
    line-height: 1.3;
  }

  h2 {
    font-size: 1.1rem !important;
    line-height: 1.3;
  }

  h3 {
    font-size: 0.95rem !important;
  }

  h4,
  h5,
  h6 {
    font-size: 0.9rem !important;
  }

  /* Spacing */
  p {
    margin: 0.5rem 0;
  }

  /* Forms and Inputs */
  input,
  textarea,
  select,
  button {
    font-size: 16px !important; /* Prevenir zoom en iOS */
    min-height: 44px !important;
    padding: 0.65rem 0.75rem !important;
  }

  textarea {
    min-height: 100px !important;
  }

  /* Buttons */
  button {
    padding: 0.65rem 1rem !important;
    border-radius: 6px;
  }

  button:active {
    transform: scale(0.98);
  }

  /* Cards and Containers */
  .card,
  [class*="Card"],
  [class*="card"] {
    padding: 0.75rem !important;
    margin-bottom: 0.75rem !important;
    border-radius: 8px;
  }

  /* Tables */
  table {
    font-size: 0.8rem;
  }

  table th,
  table td {
    padding: 0.5rem 0.4rem !important;
  }

  /* Grid adjustments */
  [class*="grid"],
  [style*="grid"] {
    gap: 0.5rem !important;
  }

  /* Flex adjustments */
  [class*="flex"],
  [style*="display: flex"] {
    gap: 0.5rem !important;
  }

  /* Sidebar adjustments - REMOVED: Using Sidebar component's own responsive styles */
  /* Original rules were conflicting with the Sidebar.tsx component styles */

  /* Logo/Brand adjustments */
  [class*="logo"],
  [class*="Logo"],
  [class*="brand"],
  [class*="Brand"] {
    font-size: 0.9rem;
    max-width: 100%;
  }

  /* Icon sizing - Excluding sidebar icons */
  svg:not([data-sidebar-icon]) {
    max-width: 20px;
    max-height: 20px;
  }

  /* Overflow handling */
  .overflow-auto,
  [style*="overflow"] {
    -webkit-overflow-scrolling: touch;
  }

  /* Modal/Dialog adjustments */
  [role="dialog"],
  .modal,
  .dialog {
    width: 95vw !important;
    margin: auto !important;
  }

  /* Reduce margin/padding for small screens */
  [class*="container"],
  [class*="Container"] {
    margin: 0 !important;
    padding: 0.5rem !important;
  }

  /* Links and touch targets */
  a,
  button,
  input[type="button"],
  input[type="submit"],
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  /* Breadcrumbs */
  [class*="breadcrumb"],
  nav[role="navigation"] {
    font-size: 0.75rem;
    gap: 0.25rem !important;
  }

  /* Status badges */
  [class*="badge"],
  [class*="Badge"],
  .badge,
  .Badge {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.75rem !important;
  }
}

/* Small Phones: 375px - 480px */
@media (max-width: 480px) and (min-width: 375px) {
  html {
    font-size: 14.5px;
  }

  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.2rem !important;
  }

  h3 {
    font-size: 1rem !important;
  }

  input,
  textarea,
  select,
  button {
    font-size: 16px !important;
    min-height: 44px !important;
    padding: 0.7rem 0.85rem !important;
  }

  /* Cards */
  [class*="Card"],
  [class*="card"] {
    padding: 0.85rem !important;
    margin-bottom: 0.85rem !important;
  }

  /* Table adjustments */
  table {
    font-size: 0.85rem;
  }

  table th,
  table td {
    padding: 0.6rem 0.5rem !important;
  }

  /* Gap reductions */
  [class*="grid"],
  [class*="flex"],
  [style*="gap"] {
    gap: 0.65rem !important;
  }

  /* Sidebar and Navigation - REMOVED: conflicts with Sidebar.tsx component */
  /* The Sidebar component handles its own responsive styles */

  [class*="container"],
  [class*="Container"] {
    padding: 0.75rem !important;
    margin: 0 !important;
  }

  /* Badge sizing */
  [class*="badge"],
  .badge {
    padding: 0.45rem 0.7rem !important;
    font-size: 0.8rem !important;
  }
}

/* Mobile: 480px - 768px */
@media (max-width: 768px) and (min-width: 480px) {
  html {
    font-size: 15px;
  }

  h1 {
    font-size: 1.6rem !important;
  }

  h2 {
    font-size: 1.3rem !important;
  }

  h3 {
    font-size: 1.1rem !important;
  }

  input,
  textarea,
  select,
  button {
    font-size: 16px !important;
    min-height: 44px !important;
    padding: 0.75rem 1rem !important;
  }

  /* Cards */
  [class*="Card"],
  [class*="card"] {
    padding: 1rem !important;
    margin-bottom: 1rem !important;
  }

  /* Table adjustments */
  table {
    font-size: 0.9rem;
  }

  table th,
  table td {
    padding: 0.7rem 0.6rem !important;
  }

  /* Gap */
  [class*="grid"],
  [class*="flex"],
  [style*="gap"] {
    gap: 0.75rem !important;
  }

  [class*="container"],
  [class*="Container"] {
    padding: 1rem !important;
  }

  /* Badge sizing */
  [class*="badge"],
  .badge {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.85rem !important;
  }
}

/* ===========================
   UTILITY IMPROVEMENTS
   =========================== */

/* Touch-friendly targets */
.touch-target {
  min-height: 44px;
  min-width: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Improved scrolling on mobile */
.mobile-scroll {
  -webkit-overflow-scrolling: touch;
  overflow-y: auto;
  overflow-x: hidden;
}

/* Better text readability on small screens */
.mobile-text {
  word-break: break-word;
  hyphens: auto;
  line-height: 1.5;
}

/* Responsive grid helper */
.responsive-grid {
  display: grid;
  gap: 0.75rem;
  grid-template-columns: 1fr;
}

@media (min-width: 481px) {
  .responsive-grid {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  }
}

@media (min-width: 768px) {
  .responsive-grid {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }
}

/* Responsive flex helper */
.responsive-flex {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

@media (min-width: 481px) {
  .responsive-flex {
    flex-direction: row;
    flex-wrap: wrap;
  }
}

/* Hide elements on very small screens */
@media (max-width: 374px) {
  .hide-xs {
    display: none !important;
  }

  .show-xs {
    display: block !important;
  }
}

/* Hide elements on small screens */
@media (max-width: 480px) {
  .hide-sm {
    display: none !important;
  }

  .show-sm {
    display: block !important;
  }
}

/* Improved spacing on mobile */
@media (max-width: 480px) {
  .pt-mobile {
    padding-top: 0.5rem !important;
  }

  .pb-mobile {
    padding-bottom: 0.5rem !important;
  }

  .px-mobile {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }

  .py-mobile {
    padding-top: 0.5rem !important;
    padding-bottom: 0.5rem !important;
  }

  .mt-mobile {
    margin-top: 0.5rem !important;
  }

  .mb-mobile {
    margin-bottom: 0.5rem !important;
  }

  .mx-mobile {
    margin-left: 0.5rem !important;
    margin-right: 0.5rem !important;
  }

  .my-mobile {
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }

  .gap-mobile {
    gap: 0.5rem !important;
  }
}

/* ===========================
   COMPONENT SPECIFIC IMPROVEMENTS
   =========================== */

/* Sidebar improvements - REMOVED: Using Sidebar.tsx component's own responsive styles */
/* The component handles width, transform, and overlay internally */
@media (max-width: 480px) {
  /* Sidebar styles removed - managed by Sidebar.tsx component */
}

/* Mobile header improvements */
@media (max-width: 480px) {
  header[class*="mobile"],
  [class*="MobileHeader"],
  .mobileHeader {
    height: 56px;
    padding: 0.5rem;
  }

  .mobile-menu-button,
  [class*="menuButton"],
  .menu-button {
    width: 40px;
    height: 40px;
    padding: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* KPI Cards improvements */
@media (max-width: 480px) {
  .kpi-card,
  [class*="KPI"],
  [class*="kpi"] {
    min-height: 140px !important;
    padding: 0.75rem !important;
  }

  .kpi-header {
    margin-bottom: 0.75rem !important;
  }

  .kpi-title {
    font-size: 0.8rem !important;
  }

  .kpi-value {
    font-size: 1.5rem !important;
  }

  .kpi-icon {
    width: 32px !important;
    height: 32px !important;
    font-size: 1rem !important;
  }

  .kpi-trend {
    font-size: 0.7rem !important;
  }
}

/* KPI Grid improvements */
@media (max-width: 480px) {
  .kpisSection,
  [class*="kpi"],
  [class*="KPI"] {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)) !important;
    gap: 0.75rem !important;
  }
}

/* Form improvements */
@media (max-width: 480px) {
  form {
    padding: 0.75rem 0 !important;
  }

  .form-group,
  [class*="FormGroup"],
  .form-field,
  [class*="FormField"] {
    margin-bottom: 0.75rem !important;
    padding: 0 !important;
  }

  label {
    display: block;
    margin-bottom: 0.4rem !important;
    font-size: 0.9rem;
    font-weight: 500;
  }

  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="date"],
  textarea,
  select {
    width: 100% !important;
    padding: 0.7rem !important;
    font-size: 16px !important;
    border-radius: 6px;
  }

  .form-error {
    font-size: 0.75rem !important;
    margin-top: 0.3rem !important;
  }

  .form-help {
    font-size: 0.75rem !important;
    color: #999;
    margin-top: 0.3rem !important;
  }
}

/* Table improvements */
@media (max-width: 480px) {
  .table-wrapper,
  [class*="TableWrapper"],
  .table-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  table {
    font-size: 0.8rem;
    white-space: nowrap;
  }

  table th,
  table td {
    padding: 0.5rem 0.4rem !important;
  }

  table th {
    background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%) !important;
    color: white;
    font-size: 0.75rem !important;
  }

  /* Hide non-essential columns on mobile */
  table th:nth-child(n + 5),
  table td:nth-child(n + 5) {
    display: none;
  }

  /* Show essential columns only */
  table th:first-child,
  table th:nth-child(2),
  table th:nth-child(3),
  table th:nth-child(4),
  table td:first-child,
  table td:nth-child(2),
  table td:nth-child(3),
  table td:nth-child(4) {
    display: table-cell;
  }
}

/* Button group improvements */
@media (max-width: 480px) {
  .button-group,
  [class*="ButtonGroup"],
  [class*="button-group"] {
    display: flex !important;
    flex-direction: column;
    gap: 0.5rem !important;
  }

  .button-group > button,
  .button-group > a,
  .button-group > [role="button"] {
    width: 100%;
    padding: 0.7rem !important;
    text-align: center;
  }
}

/* Modal/Dialog improvements */
@media (max-width: 480px) {
  [role="dialog"],
  .modal,
  .dialog,
  [class*="Modal"],
  [class*="Dialog"] {
    width: 90vw !important;
    max-width: 90vw !important;
    max-height: 90vh !important;
    margin: 5vh auto !important;
    padding: 1rem !important;
  }
}

/* Toast/Notification improvements */
@media (max-width: 480px) {
  .toast,
  .notification,
  [class*="Toast"],
  [class*="Notification"],
  [class*="Alert"],
  .alert {
    width: 90vw !important;
    margin: 0.5rem auto !important;
    padding: 0.75rem !important;
    font-size: 0.9rem !important;
    left: 5vw !important;
    right: 5vw !important;
  }
}

/* Dropdown/Select improvements */
@media (max-width: 480px) {
  select,
  [class*="select"],
  [class*="Select"],
  .select {
    width: 100% !important;
    padding: 0.65rem !important;
    font-size: 16px !important;
  }

  .dropdown,
  [class*="Dropdown"],
  .dropdown-menu,
  [class*="DropdownMenu"] {
    width: calc(100vw - 2rem) !important;
    max-width: calc(100vw - 2rem) !important;
  }
}

/* Avatar improvements */
@media (max-width: 480px) {
  .avatar,
  [class*="Avatar"],
  [class*="avatar"] {
    width: 32px !important;
    height: 32px !important;
    font-size: 0.8rem !important;
  }

  .avatar-lg {
    width: 40px !important;
    height: 40px !important;
    font-size: 0.9rem !important;
  }

  .avatar-sm {
    width: 24px !important;
    height: 24px !important;
    font-size: 0.7rem !important;
  }
}

/* Icon improvements */
@media (max-width: 480px) {
  .icon,
  [class*="Icon"],
  svg[class*="icon"],
  svg[class*="Icon"] {
    width: 18px !important;
    height: 18px !important;
  }

  .icon-lg,
  [class*="icon-lg"],
  [class*="Icon-lg"] {
    width: 24px !important;
    height: 24px !important;
  }

  .icon-sm,
  [class*="icon-sm"],
  [class*="Icon-sm"] {
    width: 14px !important;
    height: 14px !important;
  }
}

/* Pagination improvements */
@media (max-width: 480px) {
  .pagination,
  [class*="Pagination"],
  nav[class*="pagination"] {
    display: flex !important;
    flex-wrap: wrap;
    gap: 0.25rem !important;
    justify-content: center;
  }

  .pagination a,
  .pagination button,
  [class*="Pagination"] a,
  [class*="Pagination"] button {
    padding: 0.4rem 0.6rem !important;
    font-size: 0.75rem !important;
    min-width: 32px;
    min-height: 32px;
  }
}

/* Breadcrumb improvements */
@media (max-width: 480px) {
  .breadcrumb,
  [class*="Breadcrumb"],
  [class*="breadcrumb"] {
    font-size: 0.75rem !important;
    gap: 0.25rem !important;
  }

  .breadcrumb-item,
  [class*="BreadcrumbItem"],
  [class*="breadcrumb-item"] {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
  }
}

/* Card improvements */
@media (max-width: 480px) {
  .card,
  [class*="Card"],
  [class*="card"],
  .panel,
  [class*="Panel"] {
    padding: 0.75rem !important;
    margin-bottom: 0.75rem !important;
    border-radius: 8px;
  }

  .card-header,
  [class*="CardHeader"],
  .card-title,
  [class*="CardTitle"] {
    margin-bottom: 0.5rem !important;
    font-size: 0.95rem !important;
  }

  .card-body,
  [class*="CardBody"] {
    padding: 0 !important;
  }

  .card-footer,
  [class*="CardFooter"] {
    margin-top: 0.75rem !important;
    padding-top: 0.75rem !important;
  }
}

/* Tabs improvements */
@media (max-width: 480px) {
  .tabs,
  [class*="Tabs"],
  .tab-list,
  [class*="TabList"],
  [role="tablist"] {
    display: flex !important;
    gap: 0.25rem !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  .tab,
  [role="tab"],
  [class*="Tab"],
  .tab-item,
  [class*="TabItem"] {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.85rem !important;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .tab-content,
  [class*="TabContent"],
  [role="tabpanel"] {
    padding: 0.75rem 0 !important;
  }
}

/* Progress bar improvements */
@media (max-width: 480px) {
  .progress,
  [class*="Progress"],
  .progress-bar,
  [class*="ProgressBar"],
  [role="progressbar"] {
    height: 6px !important;
    border-radius: 3px;
  }

  .progress-text,
  [class*="ProgressText"],
  .progress-label,
  [class*="ProgressLabel"] {
    font-size: 0.75rem !important;
  }
}

/* Alert/Banner improvements */
@media (max-width: 480px) {
  .alert,
  .banner,
  [class*="Alert"],
  [class*="Banner"],
  [role="alert"],
  [role="banner"] {
    padding: 0.75rem !important;
    margin-bottom: 0.75rem !important;
    font-size: 0.9rem !important;
    border-radius: 6px;
  }

  .alert-title,
  [class*="AlertTitle"],
  .banner-title,
  [class*="BannerTitle"] {
    font-size: 0.95rem !important;
    font-weight: 600;
    margin-bottom: 0.3rem !important;
  }

  .alert-description,
  [class*="AlertDescription"],
  .banner-description {
    font-size: 0.85rem !important;
  }
}

/* Link improvements */
@media (max-width: 480px) {
  a {
    word-break: break-word;
    hyphens: auto;
  }

  a[href]:not([class*="button"]):not([class*="Button"]) {
    text-decoration: underline;
  }
}

/* Layout improvements */
@media (max-width: 480px) {
  .container,
  .wrapper,
  [class*="Container"],
  [class*="Wrapper"],
  .main,
  main {
    max-width: 100% !important;
    padding: 0.75rem !important;
    margin: 0 !important;
  }

  .content,
  [class*="Content"],
  .main-content,
  [class*="MainContent"] {
    padding: 0 !important;
    margin: 0 !important;
  }

  section {
    padding: 0.75rem 0 !important;
    margin-bottom: 0.75rem !important;
  }
}

/* ===========================
   ORIENTATION HANDLING
   =========================== */

/* Landscape adjustments */
@media (max-height: 500px) and (orientation: landscape) {
  body {
    overflow-y: auto;
  }

  header,
  [class*="Header"],
  .header {
    height: 44px;
  }

  input,
  button,
  select,
  textarea {
    min-height: 40px !important;
  }

  [class*="card"],
  [class*="Card"],
  .card {
    padding: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }
}

/* ===========================
   PRINT STYLES
   =========================== */

@media print {
  body {
    font-size: 12pt;
  }

  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }

  a {
    text-decoration: underline;
  }

  a[href]:after {
    content: " (" attr(href) ")";
  }

  img {
    max-width: 100% !important;
  }

  @page {
    margin: 0.5cm;
  }
}
